---
layout: default
leaflet: true
---

<h3>{{ page.title }}</h3>
<ol>
{% for location in page.trip %}
  {% assign found = false %}
  {% for known in site.data.locations %}
    {% if location == known.place %}
    {% assign found = true %}
    <li> <a href="http://en.wikipedia.org/wiki/{{ location | url_escape }}">{{location}}</a> = [ {{ known.coordinates.lat }}, {{ known.coordinates.lon }} ] </li>
    {% endif %}
  {% endfor %}
  {% unless found %}
    <li> <a href="http://en.wikipedia.org/wiki/{{ location | url_escape }}">{{location}}</a> = UNKNOWN </li>
  {% endunless %}
{% endfor %}
</ol>

<hr />
{% for location in page.trip %}
  {% assign found = false %}
  {% for known in site.data.locations %}
    {% if location == known.place %}
      {% assign found = true %}
    {% endif %}
  {% endfor %}
  {% unless found %}
  <pre>./bin/geo_lookup.rb {{ location | url_escape }}</pre>
  {% endunless %}
{% endfor %}

<pre>
{
  "type": "LineString",
  "coordinates": [
{% for location in page.trip %}{% assign islast = forloop.last %}{% for known in site.data.locations %}{% if location == known.place %}    [ {{ known.coordinates.lon }}, {{ known.coordinates.lat }} ]{% unless islast %},{% endunless %}
{% endif %}{% endfor %}{% endfor %}
  ]
}
</pre>

<div id="map-container">
	<div id="map"></div>
</div>

<script type="text/javascript">
var map = L.map('map').setView([34, -120 ], 8);

var points = [
{% for location in page.trip %}{% assign islast=forloop.last %}{% for known in site.data.locations %}{% if location == known.place %}[ {{ known.coordinates.lat }}, {{ known.coordinates.lon }} ]{% unless islast %},{% endunless %} {% endif %}{% endfor %}{% endfor %}
];
// L.marker(points[0]).addTo(map);

var polyline = new L.polyline(points, { color: '#f00', opacity: 2, weight: 2 }).addTo(map);
map.fitBounds(polyline.getBounds());

L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);
</script>


